<!DOCTYPE html>
<html>
  <head>
    <title>Open Gallery Template</title>
    <meta name="description" content="Hello, WebVR! - A-Frame" />
    <script src="https://aframe.io/releases/1.0.0/aframe.min.js"></script>
    <script>
      AFRAME.registerComponent("sound-mod", {
        schema: {
          playing: {
            type: "boolean",
            default: false
          }
        },
        update: function() {
          let data = this.data;
          let el = this.el;
          let playing = data.playing;
          var sceneEl = document.querySelector('a-scene');
          
          // get all entities
          let all_els = sceneEl.querySelectorAll('[sound]');

          el.addEventListener("click", () => {
            for (var i = 0; i < all_els.length; i++){
                all_els[i].components.sound.pauseSound();
            }
            el.components.sound.playSound();
          });
        }
      });
    </script>
 
  </head>
  <body>
    <a-scene>
      <a-assets>
        <a-asset-item id="stand1" src="dylbday.gltf"></a-asset-item>
     
      </a-assets>

      <a-entity camera look-controls wasd-controls position="0 2.5 0">
      </a-entity>

      <a-camera position="0 1.5 0">
        <a-cursor color="#FF0000"></a-cursor>
      </a-camera>

      <a-entity
        id="stand"
        position="-50 8 -10"
        sound="src: url(river.mp3); autoplay: true"
        position="-30 -.1 -30"

      >
        
        <a-gltf-model src="#stand1"
          rotation="0 90 0"
          scale=".032 .02515 .032"
          animation="property: rotation; from: 0 0 0; to: 0 360 0; startEvents: click; dur: 10000"
          
        ></a-gltf-model>
      </a-entity>
      
<!--       <a-plane
        color= "255,255,255"
        rotation="-90 0 0"
        height="100"
        width="100"
        metalness=".3"
        repeat= "20 20"
      ></a-plane> -->

      <a-sky
        src="https://cdn.glitch.com/4c0895f7-c71f-47c7-a527-35dbb14b64a3%2F107_hdrmaps_com_free.png?v=1627593296248"
        shader="standard"
        material="emissive: #f90; emissiveIntensity: .30"
      ></a-sky>
    </a-scene>
  </body>
</html>
